services:
  readingcircle:
    build: .
    image: jvanerven/readingcircle:latest
    container_name: readingcircle
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      - readingcircle-data:/app/data
    environment:
      - DATABASE_PATH=/app/data/readingcircle.db
      - JWT_SECRET=${JWT_SECRET:-change-me-to-a-random-secret}
      - JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET:-change-me-to-a-random-refresh-secret}
      - ADMIN_USERNAME=${ADMIN_USERNAME:-admin}
      - ADMIN_PASSWORD=${ADMIN_PASSWORD:-changeme123}
      - SMTP_HOST=${SMTP_HOST:-}
      - SMTP_PORT=${SMTP_PORT:-587}
      - SMTP_SECURE=${SMTP_SECURE:-false}
      - SMTP_USER=${SMTP_USER:-}
      - SMTP_PASS=${SMTP_PASS:-}
      - SMTP_FROM=${SMTP_FROM:-}
      - APP_URL=${APP_URL:-http://localhost:3000}
      - PORT=3000

volumes:
  readingcircle-data:
